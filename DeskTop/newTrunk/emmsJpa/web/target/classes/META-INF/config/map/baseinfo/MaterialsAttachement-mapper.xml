<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="MaterialsAttachement" >
  <resultMap id="mateialsAttMap" type="MaterialsAttachement" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Feb 21 13:24:02 CST 2017.
    -->
    <result column="materials_e_id" property="materialsEId" jdbcType="OTHER" />
    <result column="materials_m_id" property="materialsMId" jdbcType="OTHER" />
    <result column="attachment_number" property="attachmentNumber" jdbcType="DECIMAL" />
    <result column="wbs_id" property="wbsId" jdbcType="OTHER" />
    <result column="equipment_no" property="equipmentNo" jdbcType="OTHER" />
  </resultMap>
  <!-- 批量系统物料中设备与物料的关联关系 -->
  <insert id="insertList" parameterType="java.util.List" useGeneratedKeys="false">
    insert into b_materials_attachment
    (materials_e_id,materials_m_id,attachment_number,wbs_id,equipment_no)
    SELECT A.*
    FROM(
    <foreach collection="list" item="item" index="index" separator="UNION ALL">
      (SELECT
      #{item.materialsEId,jdbcType=VARCHAR} materials_e_id,
      #{item.materialsMId,jdbcType=VARCHAR} materials_m_id,
      #{item.attachmentNumber,jdbcType=VARCHAR} attachment_number,
      #{item.wbsId,jdbcType=VARCHAR} wbs_id,
      #{item.equipmentNo,jdbcType=CHAR} equipment_no
      FROM dual)
    </foreach>
    )A
  </insert>
</mapper>